# 🧙 基于大语言模型的跑团游戏引擎（LLM-TRPG）

## 📖 项目简介

这是一个利用大语言模型（LLM）驱动的 **跑团游戏引擎** ，为玩家（目前只支持一名真实人类玩家参与，其他玩家均由 llm 扮演）和主持人（DM/GM）提供一个沉浸式、智能化的桌上角色扮演游戏体验。

借助 LLM 的自然语言理解和生成能力，玩家可以使用自然语言进行游戏交互，AI 会根据背景设定和规则自动生成事件、描述场景、模拟 NPC、管理战斗与剧情进程，实现“丢给 AI 就能玩”的轻量化跑团体验。

---

## 🎮 主要特性

* 🧠 **AI 主持人（AI-DM）** ：大语言模型充当主持人，根据玩家输入实时响应、叙述故事、生成随机事件与剧情分支。
* 🧙‍♂️ **角色扮演支持** ：支持玩家自由创建角色，包含属性、技能、背包、背景故事等要素。
* ⚔️ **轻规则战斗系统** ：内建一个简化的骰子机制和战斗逻辑，可以扩展为 D&D、COC 或自定义规则。
* 🗺️ **世界构建模块** ：支持输入世界设定、种族、势力等内容，AI 基于设定动态生成剧情。
* 💬 **对话式互动体验** ：通过自然语言和 AI 进行对话，不需要学习复杂指令。
* 📝 **剧情持久化** ：游戏进程可以保存，支持断点继续。

## 🚀 快速开始

1. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```
2. 设置 `OPENAI_API_KEY` 环境变量，用于调用 OpenAI 接口。
3. 运行游戏：
   ```bash
   python src/main.py
   ```

第一次运行会提示创建角色，后续可以自动读取 `session.json` 继续游戏。

## 📂 项目结构

```
├── README.md          项目说明
├── requirements.txt   依赖列表
└── src
    ├── main.py        启动入口
    └── trpg
        ├── __init__.py
        ├── character.py   角色模型
        ├── dm.py          AI 主持人接口
        └── session.py     会话管理
```

## ❗ 注意

示例代码只演示了核心流程，实际跑团体验取决于大语言模型的能力和提示工程的设计，可根据需要自行扩展完善。
